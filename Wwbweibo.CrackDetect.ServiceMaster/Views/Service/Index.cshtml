@using Wwbweibo.CrackDetect.Models
@{
    ViewData["Title"] = "服务管理";
}
<div>
    <h4>在线服务管理</h4>
</div>

<div>
    <table class="table table-striped table-bordered">
        <thead>
        <td>#</td>
        <td>服务名</td>
        <td>服务类型</td>
        <td>操作</td>
        </thead>
        @{ int index = 0;}
        @foreach (var services in ViewData["services"] as Dictionary<ServiceType, List<string>>)
        {
            @foreach (var service in services.Value)
            {
                index = index + 1;
                <tr>
                    <td>@index</td>
                    <td>
                        @service
                    </td>
                    <td>
                        @if(services.Key == ServiceType.MasterService)
                        {
                            <label>Master主服务</label>
                        }else if(services.Key == ServiceType.DataCalc)
                        {
                            <label>Python图像计算服务</label>
                        }
                    </td>
                    <td>
                        <a href="/Service/StopService?ServiceType=@services.Key&ServiceId=@service">停止</a>
                    </td>
                </tr>
            }
        }
    </table>
</div>